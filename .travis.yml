sudo: false # use containers

language: python
python:
  - "2.7"

addons:
  mariadb: '10.1'

before_install:
- mysql -u root -e "CREATE DATABASE ispybtest; SET GLOBAL log_bin_trust_function_creators=ON;"
- mysql -u root -D ispybtest < conf/schema.sql

before_script:
- cp conf/config.example.cfg conf/config.cfg

# command to install dependencies
install:
- pip install -Iv mysql-connector==2.1.6
- pip install coveralls

script:
- cd tests && nosetests -v --with-coverage --cover-package=ispyb
